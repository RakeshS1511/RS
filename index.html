<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Rocky & Simmie: Maybe It‚Äôs Love</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --pink:#ff8fb7;
      --hot-pink:#ff4b8a;
      --forest1:#2f5d3a;
      --forest2:#447a4d;
      --forest3:#153322;
      --panel-bg:#fffafc;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:"Comic Sans MS","Arial Rounded MT",system-ui,cursive;
      min-height:100vh;
      background:
        radial-gradient(circle at 10% 0,#ffffff40 0,transparent 55%),
        radial-gradient(circle at 90% 100%,#ffffff25 0,transparent 55%),
        linear-gradient(135deg,var(--forest1),var(--forest2),var(--forest3));
      display:flex;
      justify-content:center;
      align-items:center;
      padding:20px;
      color:#24303a;
    }
    .book{
      max-width:1000px;
      width:100%;
      background:#fef5ff;
      border-radius:24px;
      box-shadow:0 20px 60px #00000055;
      padding:24px 18px 30px;
      border:4px solid #ffffffaa;
      position:relative;
      overflow:hidden;
    }
    .title-bar{
      text-align:center;
      margin-bottom:10px;
    }
    .title-bar h1{
      font-size:2rem;
      color:#fff;
      text-shadow:0 0 8px #ffbddd;
    }
    .title-bar p{
      font-size:.9rem;
      color:#ffe5f5;
      letter-spacing:.03em;
    }

    /* Comic layout */
    .screen{
      display:none;
      animation:fadeIn .5s ease;
    }
    .screen.active{display:block;}
    .panels{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:16px;
      margin-top:12px;
    }
    .panel{
      background:var(--panel-bg);
      border-radius:18px;
      padding:14px;
      border:3px solid #00000015;
      box-shadow:4px 6px 0 #00000025;
      position:relative;
      overflow:hidden;
    }
    .panel::after{
      content:"";
      position:absolute;
      inset:0;
      background:radial-gradient(circle at 0 0,#ffffff60 0,transparent 60%);
      opacity:.6;
      pointer-events:none;
    }
    .panel img{
      width:100%;
      border-radius:14px;
      display:block;
      box-shadow:0 8px 18px #00000025;
    }
    .panel-caption{
      margin-top:8px;
      font-size:.96rem;
      line-height:1.5;
    }
    .bubble{
      position:absolute;
      padding:8px 10px;
      background:#fff;
      border-radius:18px;
      font-size:.8rem;
      max-width:70%;
      box-shadow:0 4px 10px #00000030;
      border:2px solid #00000020;
    }
    .bubble.rocky{bottom:16px;left:14px;}
    .bubble.simmie{top:16px;right:14px;}
    .bubble span.tag{font-weight:bold;color:var(--hot-pink);margin-right:4px;}

    .nav{
      display:flex;
      justify-content:space-between;
      gap:8px;
      margin-top:18px;
    }
    .btn{
      flex:1;
      border:none;
      border-radius:999px;
      padding:11px 10px;
      font-weight:bold;
      font-size:.98rem;
      cursor:pointer;
      background:linear-gradient(135deg,var(--pink),var(--hot-pink));
      color:#fff;
      box-shadow:0 6px 14px #ff4b8a66;
      transition:transform .2s,box-shadow .2s,filter .2s;
    }
    .btn.secondary{
      background:#ffffff;
      color:#444;
      box-shadow:0 4px 10px #00000020;
    }
    .btn:disabled{
      opacity:.4;
      cursor:default;
      box-shadow:none;
    }
    .btn:hover:not(:disabled){
      transform:translateY(-2px);
      box-shadow:0 10px 18px #ff4b8a88;
      filter:brightness(1.03);
    }
    .btn:active:not(:disabled){
      transform:translateY(0);
      box-shadow:0 4px 10px #ff4b8a66;
    }

    .page-indicator{
      text-align:center;
      margin-top:6px;
      font-size:.8rem;
      color:#ffe0f1;
    }

    @keyframes fadeIn{
      from{opacity:0;transform:translateY(10px);}
      to{opacity:1;transform:translateY(0);}
    }

    /* Puzzle */
    .puzzle-wrap{
      margin-top:8px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:10px;
    }
    .puzzle-grid{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:4px;
      max-width:420px;
      width:100%;
    }
    .piece{
      aspect-ratio:1;
      border-radius:10px;
      background-size:300% 300%;
      background-image:url("https://agi-prod-file-upload-public-main-use1.s3.amazonaws.com/4fac3e96-c834-4c6f-80fd-9992dc7d25d9");
      border:2px solid #ffffff;
      box-shadow:0 4px 8px #00000030;
      cursor:pointer;
      transition:transform .16s,border-color .16s,box-shadow .16s;
    }
    .piece.selected{
      transform:scale(.95);
      border-color:var(--hot-pink);
      box-shadow:0 0 0 3px #ffb3d7;
    }
    .piece.solved{
      border-color:#9cff8c;
      box-shadow:0 0 0 2px #7cff64,0 6px 12px #00000030;
    }

    .puzzle-hint{
      font-size:.85rem;
      color:#555;
      text-align:center;
    }
    .puzzle-complete-preview{
      margin-top:10px;
      text-align:center;
      display:none;
    }
    .puzzle-complete-preview img{
      max-width:260px;
      width:100%;
      border-radius:18px;
      box-shadow:0 8px 18px #00000040;
    }

    /* Question screen */
    .question-big{
      font-size:1.6rem;
      text-align:center;
      margin:8px 0 14px;
      color:var(--hot-pink);
      text-shadow:0 0 6px #ffffffaa;
    }
    .q-buttons{
      display:flex;
      gap:16px;
      justify-content:center;
      margin-top:6px;
      flex-wrap:wrap;
    }
    #yesBtn{
      min-width:140px;
      font-size:1.05rem;
    }
    #noBtn{
      min-width:90px;
      background:#ffffff;
      color:#555;
      border:2px solid #ffd0e6;
      box-shadow:0 3px 8px #00000025;
      position:relative;
    }

    /* Celebration */
    .celebration-art{
      margin-top:8px;
      text-align:center;
    }
    .celebration-art img{
      max-width:320px;
      width:100%;
      border-radius:26px;
      box-shadow:0 16px 32px #00000055;
    }
    .confetti-heart{
      position:fixed;
      pointer-events:none;
      font-size:1.6rem;
      animation:fall 4s linear infinite;
      opacity:0;
      z-index:50;
    }
    @keyframes fall{
      0%{transform:translateY(-10vh) scale(.8);opacity:1;}
      100%{transform:translateY(110vh) scale(1.1);opacity:0;}
    }

    @media(max-width:700px){
      .book{padding:18px 12px 24px;}
      h1{font-size:1.5rem;}
      .panel{padding:10px;}
      .panel-caption{font-size:.9rem;}
    }
  </style>
</head>
<body>
<div class="book">
  <div class="title-bar">
    <h1>Rocky & Simmie: Maybe It‚Äôs Love</h1>
    <p>A tiny dino comic for almost‚ÄëValentine‚Äôs Day</p>
  </div>

  <!-- Screen 1 -->
  <section class="screen active" id="screen1">
    <div class="panels">
      <div class="panel">
        <img src="https://user-gen-media-assets.s3.amazonaws.com/seedream_images/516f905e-ac34-4096-8d23-0c9bbc78e8e4.png" alt="Rocky in the forest" />
        <div class="bubble rocky">
          <span class="tag">Rocky:</span> New day, new rocks, same forest. Kinda peaceful though.
        </div>
        <p class="panel-caption">
          Rocky is a green T‚ÄëRex who looks tough but actually has a very soft heart. He spends his days exploring Dino Forest and collecting rocks that ‚Äúhave good vibes.‚Äù
        </p>
      </div>
    </div>
  </section>

  <!-- Screen 2 -->
  <section class="screen" id="screen2">
    <div class="panels">
      <div class="panel">
        <img src="https://user-gen-media-assets.s3.amazonaws.com/seedream_images/b5416b19-1da8-41ac-87ff-9392c39995ce.png" alt="Simmie by the lake" />
        <div class="bubble simmie">
          <span class="tag">Simmie:</span> Stars look even prettier in books and in the water.
        </div>
        <p class="panel-caption">
          Down by the lake, Simmie, a blue sauropod with a tiny pink bow, reads about constellations and watches the sky in the water‚Äôs reflection. She likes quiet places and big dreams.
        </p>
      </div>
      <div class="panel">
        <img src="https://user-gen-media-assets.s3.amazonaws.com/seedream_images/516f905e-ac34-4096-8d23-0c9bbc78e8e4.png" alt="Rocky noticing Simmie" />
        <div class="bubble rocky">
          <span class="tag">Rocky:</span> Okay who is that‚Ä¶ and why does my heart feel weird?
        </div>
        <p class="panel-caption">
          Rocky spots Simmie for the first time. He tells himself it‚Äôs ‚Äújust curiosity,‚Äù but his fast heartbeat is low‚Äëkey saying something else.
        </p>
      </div>
    </div>
  </section>

  <!-- Screen 3 -->
  <section class="screen" id="screen3">
    <div class="panels">
      <div class="panel">
        <img src="https://user-gen-media-assets.s3.amazonaws.com/seedream_images/83432735-94b2-4c7a-9e78-4c3809a47b2b.png" alt="Rocky and Simmie with flowers" />
        <div class="bubble rocky">
          <span class="tag">Rocky:</span> So you like flowers and stars. I like rocks‚Ä¶ and this.
        </div>
        <div class="bubble simmie" style="bottom:16px;right:14px;">
          <span class="tag">Simmie:</span> This is nice. We should explore more spots like this.
        </div>
        <p class="panel-caption">
          They hang out more: trading flower spots, rock stories, and quiet laughs. It isn‚Äôt ‚Äúa date,‚Äù but the forest keeps acting like it knows something they don‚Äôt.
        </p>
      </div>
    </div>
  </section>

  <!-- Screen 4 -->
  <section class="screen" id="screen4">
    <div class="panels">
      <div class="panel">
        <img src="https://user-gen-media-assets.s3.amazonaws.com/seedream_images/113ceb80-541a-4ed4-8773-6265fd5c5d93.png" alt="Rocky building a puzzle" />
        <div class="bubble rocky">
          <span class="tag">Rocky:</span> Valentine‚Äôs Day is almost here‚Ä¶ maybe I make something that says ‚ÄúI like you‚Äù but also ‚Äúno pressure.‚Äù 
        </div>
        <p class="panel-caption">
          With Valentine‚Äôs Day coming soon, Rocky builds a heart‚Äëshaped picture of the two of them. If Simmie likes the puzzle, maybe she likes the dino who made it too.
        </p>
      </div>
      <div class="panel">
        <img src="https://agi-prod-file-upload-public-main-use1.s3.amazonaws.com/4fac3e96-c834-4c6f-80fd-9992dc7d25d9" alt="Puzzle reference" />
        <p class="panel-caption">
          He cuts the picture into little pieces, shuffles them, and decides to turn his feelings into a tiny game.
        </p>
      </div>
    </div>
  </section>

  <!-- Screen 5 ‚Äì Puzzle -->
  <section class="screen" id="screen5">
    <div class="panels">
      <div class="panel">
        <h2 style="font-size:1.2rem;margin-bottom:6px;">Puzzle Time: Rocky‚Äôs Little Hint</h2>
        <p class="panel-caption">
          Help Rocky fix the puzzle he made for Simmie. Click one tile, then another tile, to swap them. When the heart looks right, the message is clear: maybe it‚Äôs love now.
        </p>
        <div class="puzzle-wrap">
          <div class="puzzle-grid" id="puzzleGrid"></div>
          <p class="puzzle-hint">
            Tip: corners first, then edges, then the middle. You got this. üíï
          </p>
          <div class="puzzle-complete-preview" id="puzzlePreview">
            <p style="margin-bottom:6px;font-weight:bold;color:#e4427a;">
              You fixed it! This is how Rocky sees them. ‚ú®
            </p>
            <img src="https://agi-prod-file-upload-public-main-use1.s3.amazonaws.com/4fac3e96-c834-4c6f-80fd-9992dc7d25d9" alt="Finished heart puzzle" />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Screen 6 ‚Äì Question -->
  <section class="screen" id="screen6">
    <div class="panels">
      <div class="panel">
        <img src="https://agi-prod-file-upload-public-main-use1.s3.amazonaws.com/4fac3e96-c834-4c6f-80fd-9992dc7d25d9" alt="Rocky and Simmie heart" />
        <div class="bubble rocky">
          <span class="tag">Rocky:</span> So‚Ä¶ if this puzzle made you smile, I kinda hope I do too.
        </div>
        <div class="bubble simmie">
          <span class="tag">Simmie:</span> Rocky, this is the cutest thing anyone‚Äôs done for me.
        </div>
        <p class="panel-caption">
          The puzzle is done, the heart is whole, and the forest feels extra quiet. It might still be ‚Äújust friendship,‚Äù but honestly‚Ä¶ it doesn‚Äôt really look like <i>just</i> friendship anymore.
        </p>
      </div>
      <div class="panel">
        <p class="question-big">
          If this were you, would you be<br/>Rocky‚Äôs Valentine?
        </p>
        <p class="panel-caption" style="text-align:center;">
          (Saying ‚Äúno‚Äù might be physically impossible. The button is scared of commitment.)
        </p>
        <div class="q-buttons">
          <button class="btn" id="yesBtn" type="button">Yes, obviously üíö</button>
          <button class="btn secondary" id="noBtn" type="button">Umm‚Ä¶ no?</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Screen 7 ‚Äì Celebration -->
  <section class="screen" id="screen7">
    <div class="panels">
      <div class="panel">
        <div class="celebration-art">
          <img src="https://agi-prod-file-upload-public-main-use1.s3.amazonaws.com/9a3fb800-6314-41bd-9512-6be1da297095" alt="Rocky and Simmie celebrating" />
        </div>
        <p class="panel-caption" style="text-align:center;">
          Rocky gives Simmie a forest bouquet, Simmie can‚Äôt stop smiling, and Dino Forest logs a new event: <b>‚Äúmaybe friends, maybe more.‚Äù</b><br/><br/>
          Whatever the label is today, one thing is clear‚Äîthis story is not ending any time soon.
        </p>
      </div>
    </div>
  </section>

  <div class="nav">
    <button class="btn secondary" id="prevBtn" type="button" disabled>‚Üê Back</button>
    <button class="btn" id="nextBtn" type="button">Next ‚Üí</button>
  </div>
  <div class="page-indicator" id="pageIndicator">Page 1 / 7</div>
</div>

<script>
  const totalScreens = 7;
  let current = 1;

  const prevBtn = document.getElementById("prevBtn");
  const nextBtn = document.getElementById("nextBtn");
  const pageIndicator = document.getElementById("pageIndicator");

  function showScreen(n){
    document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
    document.getElementById("screen"+n).classList.add("active");
    prevBtn.disabled = n===1;
    nextBtn.disabled = n===totalScreens;
    nextBtn.textContent = n===totalScreens-1 ? "See what happens ‚Üí" :
                          n===totalScreens ? "Done" : "Next ‚Üí";
    pageIndicator.textContent = "Page " + n + " / " + totalScreens;
  }

  prevBtn.addEventListener("click",()=>{ if(current>1){current--;showScreen(current);} });
  nextBtn.addEventListener("click",()=>{
    if(current<totalScreens){
      current++;
      showScreen(current);
      if(current===5 && !puzzleInitialized) initPuzzle();
    }
  });

  /* 3x3 click‚Äëswap puzzle */
  let puzzleOrder = [];
  let firstPick = null;
  let puzzleInitialized = false;

  function initPuzzle(){
    const grid = document.getElementById("puzzleGrid");
    grid.innerHTML = "";
    puzzleOrder = [...Array(9).keys()];
    // shuffle
    for(let i=puzzleOrder.length-1;i>0;i--){
      const j=Math.floor(Math.random()*(i+1));
      [puzzleOrder[i],puzzleOrder[j]]=[puzzleOrder[j],puzzleOrder[i]];
    }
    puzzleOrder.forEach((pos,index)=>{
      const div=document.createElement("div");
      div.className="piece";
      div.dataset.index=index;
      div.dataset.pos=pos;
      const col=pos%3,row=Math.floor(pos/3);
      const x=["0%","50%","100%"][col];
      const y=["0%","50%","100%"][row];
      div.style.backgroundPosition=`${x} ${y}`;
      div.addEventListener("click",()=>selectPiece(index));
      grid.appendChild(div);
    });
    puzzleInitialized=true;
  }

  function selectPiece(i){
    const pieces=document.querySelectorAll(".piece");
    if(firstPick===null){
      firstPick=i;
      pieces[i].classList.add("selected");
      return;
    }
    if(firstPick===i){
      pieces[i].classList.remove("selected");
      firstPick=null;
      return;
    }
    // swap visual + data
    const a=pieces[firstPick], b=pieces[i];
    const posA=a.dataset.pos,posB=b.dataset.pos;
    a.dataset.pos=posB; b.dataset.pos=posA;
    const colA=posB%3,rowA=Math.floor(posB/3);
    const colB=posA%3,rowB=Math.floor(posA/3);
    a.style.backgroundPosition=[["0%","50%","100%"][colA],["0%","50%","100%"][rowA]].join(" ");
    b.style.backgroundPosition=[["0%","50%","100%"][colB],["0%","50%","100%"][rowB]].join(" ");
    pieces.forEach(p=>p.classList.remove("selected"));
    firstPick=null;
    checkSolved();
  }

  function checkSolved(){
    const pieces=document.querySelectorAll(".piece");
    let ok=true;
    pieces.forEach((p,idx)=>{
      if(+p.dataset.pos!==idx) ok=false;
    });
    if(ok){
      pieces.forEach(p=>p.classList.add("solved"));
      document.getElementById("puzzlePreview").style.display="block";
      setTimeout(()=>{ current=6; showScreen(current); },1200);
    }
  }

  /* Question buttons */
  const yesBtn=document.getElementById("yesBtn");
  const noBtn=document.getElementById("noBtn");

  yesBtn.addEventListener("click",()=>{
    current=7;
    showScreen(current);
    spawnHearts();
  });

  noBtn.addEventListener("mouseover",()=>{
    const maxX=window.innerWidth-140;
    const maxY=window.innerHeight-80;
    noBtn.style.position="fixed";
    noBtn.style.left=Math.random()*maxX+"px";
    noBtn.style.top=Math.random()*maxY+"px";
  });

  function spawnHearts(){
    for(let i=0;i<40;i++){
      const h=document.createElement("div");
      h.className="confetti-heart";
      h.textContent=["üíï","üíñ","üíò","üíó","üíì"][Math.floor(Math.random()*5)];
      h.style.left=Math.random()*100+"vw";
      h.style.animationDelay=(Math.random()*2)+"s";
      h.style.animationDuration=(3+Math.random()*2)+"s";
      document.body.appendChild(h);
      setTimeout(()=>h.remove(),6000);
    }
  }
</script>
</body>
</html>
